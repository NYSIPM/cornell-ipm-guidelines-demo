---
title: "Cornell PSEP Guidelines"
subtitle: "Pest Management Guidelines for New York and Pennsylvania"
---

<div id="auth-status" style="margin-bottom: 2rem;"></div>

<div id="auth-gate"></div>
<div id="content" style="display: none;">

## Available Publications

### [Grape Pest Management Guidelines](grapes/index.html)

Comprehensive pest management recommendations for grape growers in New York and Pennsylvania.

**Chapters include:**
- Pesticide Information
- Insect & Mite Management  
- Interactive Pesticide Tables

---

### Coming Soon

- **Apple Guidelines** - 2026 Edition
- **Tree Fruit Guidelines** - 2026 Edition
- **Vegetable Guidelines** - 2026 Edition

---

</div>

<script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
<script src="../js/auth.js"></script>
<script>
async function checkPageAccess() {
    console.log('1. checkPageAccess started');
    
    const authStatus = await checkAuth();
    console.log('2. authStatus:', authStatus);
    console.log('3. authenticated value:', authStatus.authenticated);
    console.log('4. type of authenticated:', typeof authStatus.authenticated);
    
    const gateDiv = document.getElementById('auth-gate');
    const contentDiv = document.getElementById('content');
    
    console.log('5. gateDiv:', gateDiv);
    console.log('6. contentDiv:', contentDiv);
    
    if (authStatus.authenticated) {
        console.log('7. User IS authenticated - showing content');
        gateDiv.style.display = 'none';
        contentDiv.style.display = 'block';
        console.log('8. Content display after setting:', contentDiv.style.display);
    } else {
        console.log('7. User NOT authenticated - showing gate');
        gateDiv.innerHTML = `
            <div style="text-align: center; padding: 3rem; background: #f8f9fa; border-radius: 8px; margin: 2rem 0;">
                <h2>ðŸ”’ Authentication Required</h2>
                <p>Please sign in to access Cornell IPM Guidelines.</p>
                <button onclick="login()" style="background: #B31B1B; color: white; border: none; padding: 12px 24px; font-size: 16px; border-radius: 4px; cursor: pointer; margin-top: 1rem;">
                    Sign In with Cornell IPM
                </button>
            </div>
        `;
    }
}

checkPageAccess();
</script>

<script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
<script src="/js/auth.js"></script>
<script>
async function initPage() {
    const status = await checkAuth();
    const statusDiv = document.getElementById('auth-status');
    
    if (status.authenticated) {
        statusDiv.innerHTML = `
            <div style="background: #d4edda; padding: 1rem; border-radius: 4px; border: 1px solid #c3e6cb;">
                <span style="font-weight: bold;">âœ“ Signed in as ${status.user.email}</span>
                <button onclick="logout()" style="float: right; background: #dc3545; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">
                    Sign Out
                </button>
                <div style="clear: both;"></div>
            </div>
        `;
    } else {
        statusDiv.innerHTML = `
            <div style="background: #fff3cd; padding: 1rem; border-radius: 4px; border: 1px solid #ffeaa7;">
                <span>ðŸ”’ Sign in to access full content</span>
                <button onclick="login()" style="float: right; background: #B31B1B; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer;">
                    Sign In
                </button>
                <div style="clear: both;"></div>
            </div>
        `;
    }
}

window.addEventListener('load', initPage);
</script>