backend:
  name: github
  repo: NYSIPM/cornell-ipm-guidelines-demo
  branch: main

publish_mode: editorial_workflow
show_preview_links: true

media_folder: "static/images"
public_folder: "/static/images"

site_url: https://dancing-sundae-a531d3.netlify.app
display_url: https://dancing-sundae-a531d3.netlify.app

collections:
  # Berry Guidelines
  - name: "berries"
    label: "Berry Guidelines"
    label_singular: "Chapter"
    folder: "publications/berries"
    create: true
    slug: "{{slug}}"
    extension: "qmd"
    format: "frontmatter"
    nested:
      depth: 2
      summary: "{{title}}"
    editor:
      preview: true
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Subtitle", name: "subtitle", widget: "string", required: false}
      - {label: "Chapter Number", name: "chapter", widget: "number", required: false, hint: "Optional ordering"}
      - {label: "Authors", name: "authors", widget: "list", required: false, hint: "List of chapter authors"}
      - {label: "Last Updated", name: "date", widget: "datetime", required: false}
        # NEW: left-panel tool widget (interactive)
      - label: "API Table Tool"
        name: "api_tool"
        widget: "apiFetchTool"
        required: false
        # Existing Body field (keep this)
      - label: "Body"
        name: "body"
        widget: "markdown"
        modes: [rich_text, raw]
        editor_components:
        - image
        - code-block
        - html-table
        - api-text
        - pesticide-table

  # Grape Guidelines
  - name: "grapes"
    label: "Grape Guidelines"
    label_singular: "Chapter"
    folder: "publications/grapes"
    create: true
    slug: "{{slug}}"
    extension: "qmd"
    format: "frontmatter"
    nested:
      depth: 2
      summary: "{{title}}"
    editor:
      preview: false
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Subtitle", name: "subtitle", widget: "string", required: false}
      - {label: "Chapter Number", name: "chapter", widget: "number", required: false, hint: "Optional ordering"}
      - {label: "Authors", name: "authors", widget: "list", required: false, hint: "List of chapter authors"}
      - {label: "Last Updated", name: "date", widget: "datetime", required: false}
      - {label: "Body", name: "body", widget: "markdown"}
  
  # Apple Guidelines (placeholder for future)
  - name: "apples"
    label: "Apple Guidelines"
    label_singular: "Chapter"
    folder: "publications/apples"
    create: true
    slug: "{{slug}}"
    extension: "qmd"
    format: "frontmatter"
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Body", name: "body", widget: "markdown"}
  
  # Tree Fruit Guidelines (placeholder)
  - name: "tree-fruit"
    label: "Tree Fruit Guidelines"
    label_singular: "Chapter"
    folder: "publications/tree-fruit"
    create: true
    slug: "{{slug}}"
    extension: "qmd"
    format: "frontmatter"
    fields:
      - {label: "Title", name: "title", widget: "string"}
      - {label: "Body", name: "body", widget: "markdown"}